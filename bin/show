#!/usr/bin/env python3
import sys, os
sys.path.append(os.path.abspath('..'))
from coral_growth.simulate import simulate_genome
from coral_growth.viewer import AnimationViewer

if __name__ == '__main__':
    assert(len(sys.argv) == 2)
    # assert(os.path.exists(sys.argv[1]))
    folder = sys.argv[1]
    files = [f for f in os.listdir(folder) if '.coral.obj' in f]
    files = sorted(files, key=lambda f: int(f.split('.')[0]))
    files = [os.path.join(folder, f) for f in files]
    view = AnimationViewer(files, (800, 800))
    view.main_loop()
